#!/usr/bin/env python3
"""
Community Seeding Script - Bangladesh Agricultural Community Posts
This script creates diverse community posts in Bangla for the TerraPulse application.
"""

from app import create_app, db
from app.models.user import User
from app.models.community import Community, CommunityMember, CommunityPost, PostLike, PostComment
from datetime import datetime, timezone, timedelta
import random
import json

def create_sample_users():
    """Create sample users for community posts"""
    print("Creating sample users...")
    
    users_data = [
        {"full_name": "рж░рж╣рж┐ржо ржЙржжрзНржжрж┐ржи", "email": "rahim@example.com", "username": "rahim_uddin", "district": "ржХрзБржорж┐рж▓рзНрж▓рж╛", "primary_crop": "ржзрж╛ржи"},
        {"full_name": "ржлрж╛рждрзЗржорж╛ ржЦрж╛рждрзБржи", "email": "fatema@example.com", "username": "fatema_khatun", "district": "рж░ржВржкрзБрж░", "primary_crop": "ржЖрж▓рзБ"},
        {"full_name": "ржЖржмржжрзБрж▓ ржХрж░рж┐ржо", "email": "karim@example.com", "username": "abdul_karim", "district": "ржмрж░рж┐рж╢рж╛рж▓", "primary_crop": "ржкрж╛ржЯ"},
        {"full_name": "рж░рж╛рж╢рж┐ржжрж╛ ржмрзЗржЧржо", "email": "rashida@example.com", "username": "rashida_begum", "district": "рж╕рж┐рж▓рзЗржЯ", "primary_crop": "ржЪрж╛"},
        {"full_name": "ржорзЛрж╣рж╛ржорзНржоржж ржЖрж▓рзА", "email": "ali@example.com", "username": "mohammad_ali", "district": "ржжрж┐ржирж╛ржЬржкрзБрж░", "primary_crop": "ржнрзБржЯрзНржЯрж╛"},
        {"full_name": "рж╕рж╛рж▓ржорж╛ ржЖржХрзНрждрж╛рж░", "email": "salma@example.com", "username": "salma_akter", "district": "ржпрж╢рзЛрж░", "primary_crop": "рж╕рж░рж┐рж╖рж╛"},
        {"full_name": "ржирж╛ржЬржорзБрж▓ рж╣ржХ", "email": "nazmul@example.com", "username": "nazmul_hoque", "district": "ржирзЛржпрж╝рж╛ржЦрж╛рж▓рзА", "primary_crop": "рждрзБрж▓рж╛"},
        {"full_name": "рж░рзЛржХрзЗржпрж╝рж╛ ржЦрж╛рждрзБржи", "email": "rokeya@example.com", "username": "rokeya_khatun", "district": "ржкрж╛ржмржирж╛", "primary_crop": "ржзрж╛ржи"},
        {"full_name": "ржЖржирзЛржпрж╝рж╛рж░ рж╣рзЛрж╕рзЗржи", "email": "anowar@example.com", "username": "anowar_hossain", "district": "ржлрж░рж┐ржжржкрзБрж░", "primary_crop": "ржкрзЗржБржпрж╝рж╛ржЬ"},
        {"full_name": "ржирж╛рж╕рж░рж┐ржи рж╕рзБрж▓рждрж╛ржирж╛", "email": "nasrin@example.com", "username": "nasrin_sultana", "district": "ржЯрж╛ржЩрзНржЧрж╛ржЗрж▓", "primary_crop": "ржЯржорзЗржЯрзЛ"}
    ]
    
    created_users = []
    for user_data in users_data:
        existing_user = User.query.filter_by(email=user_data['email']).first()
        if not existing_user:
            user = User(
                username=user_data['username'],
                password='demo123',  # Simple password for demo users
                full_name=user_data['full_name'],
                email=user_data['email'],
                district=user_data['district'],
                primary_crop=user_data['primary_crop'],
                farm_size=random.randint(1, 50),
                onboarding_completed=True
            )
            created_users.append(user)
            db.session.add(user)
    
    try:
        db.session.commit()
        print(f"Created {len(created_users)} sample users")
        return created_users
    except Exception as e:
        db.session.rollback()
        print(f"Error creating users: {e}")
        return []

def create_sample_communities():
    """Create sample communities"""
    print("Creating sample communities...")
    
    # Get a user to be the creator
    users = User.query.all()
    if not users:
        print("No users available to create communities")
        return []
    
    creator = users[0]  # Use first user as creator
    
    communities_data = [
        {
            'name': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржзрж╛ржи ржЪрж╛рж╖рж┐ рж╕ржорж┐рждрж┐',
            'description': 'ржзрж╛ржи ржЪрж╛рж╖рж┐ржжрзЗрж░ ржЕржнрж┐ржЬрзНржЮрждрж╛, ржкрж░рж╛ржорж░рзНрж╢ ржУ ржмрж╛ржЬрж╛рж░ рждржерзНржп рж╢рзЗржпрж╝рж╛рж░рзЗрж░ ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржо',
            'category': 'ржзрж╛ржи',
            'district': 'рж╕рж╛рж░рж╛ржжрзЗрж╢',
            'location': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢'
        },
        {
            'name': 'ржЬрзИржм ржХрзГрж╖рж┐ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ',
            'description': 'ржЯрзЗржХрж╕ржЗ ржУ ржкрж░рж┐ржмрзЗрж╢ржмрж╛ржирзНржзржм ржЪрж╛рж╖рж╛ржмрж╛ржжрзЗрж░ ржЬржирзНржп ржЬрзИржм ржХрзГрж╖рж┐ ржкржжрзНржзрждрж┐ ржирж┐ржпрж╝рзЗ ржЖрж▓рзЛржЪржирж╛',
            'category': 'ржЬрзИржм',
            'district': 'рж╕рж╛рж░рж╛ржжрзЗрж╢',
            'location': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢'
        },
        {
            'name': 'рж╕ржмржЬрж┐ ржЪрж╛рж╖рж┐ ржЧрзНрж░рзБржк',
            'description': 'рж╕ржмржЬрж┐ ржЪрж╛рж╖рзЗрж░ ржЖржзрзБржирж┐ржХ ржкржжрзНржзрждрж┐, ржмрж╛ржЬрж╛рж░ ржжрж░ ржУ ржмрзНржпржмрж╕рж╛ржпрж╝рж┐ржХ ржкрж░рж╛ржорж░рзНрж╢',
            'category': 'рж╕ржмржЬрж┐',
            'district': 'рж╕рж╛рж░рж╛ржжрзЗрж╢',
            'location': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢'
        },
        {
            'name': 'ржХрзГрж╖рж┐ ржкрзНрж░ржпрзБржХрзНрждрж┐ ржлрзЛрж░рж╛ржо',
            'description': 'ржЖржзрзБржирж┐ржХ ржХрзГрж╖рж┐ ржкрзНрж░ржпрзБржХрзНрждрж┐, ржпржирзНрждрзНрж░ржкрж╛рждрж┐ ржУ ржбрж┐ржЬрж┐ржЯрж╛рж▓ ржЪрж╛рж╖рж╛ржмрж╛ржж',
            'category': 'ржкрзНрж░ржпрзБржХрзНрждрж┐',
            'district': 'рж╕рж╛рж░рж╛ржжрзЗрж╢',
            'location': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢'
        }
    ]
    
    created_communities = []
    for comm_data in communities_data:
        existing_comm = Community.query.filter_by(name=comm_data['name']).first()
        if not existing_comm:
            community = Community(
                name=comm_data['name'],
                description=comm_data['description'],
                category=comm_data['category'],
                district=comm_data['district'],
                location=comm_data['location'],
                created_by=creator.id,
                is_public=True,
                is_active=True,
                member_count=random.randint(50, 500)
            )
            created_communities.append(community)
            db.session.add(community)
    
    try:
        db.session.commit()
        print(f"Created {len(created_communities)} communities")
        return created_communities
    except Exception as e:
        db.session.rollback()
        print(f"Error creating communities: {e}")
        return []

def create_bangla_posts():
    """Create comprehensive Bangla community posts"""
    print("Creating Bangla community posts...")
    
    users = User.query.all()
    communities = Community.query.all()
    
    if not users or not communities:
        print("No users or communities found. Please create them first.")
        return
    
    # Diverse Bangla posts with different types and content
    posts_data = [
        # Question Posts
        {
            "title": "ржзрж╛ржирзЗрж░ ржкрж╛рждрж╛ рж╣рж▓рзБржж рж╣ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗ - рж╕ржорж╛ржзрж╛ржи ржХрзА?",
            "content": "ржЖржорж╛рж░ ржзрж╛ржирзЗрж░ ржЬржорж┐рждрзЗ ржЧржд рзи-рзй ржжрж┐ржи ржзрж░рзЗ ржкрж╛рждрж╛ рж╣рж▓рзБржж рж╣ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗред ржЖржмрж╣рж╛ржУржпрж╝рж╛ ржЦрж╛рж░рж╛ржк ржерж╛ржХрж╛ржпрж╝ рж╕рж╛рж░ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ржирж┐ред ржХрзА ржХрж░рж▓рзЗ ржнрж╛рж▓рзЛ рж╣ржмрзЗ? ржЕржнрж┐ржЬрзНржЮ ржХрзГрж╖ржХ ржнрж╛ржЗржжрзЗрж░ ржкрж░рж╛ржорж░рзНрж╢ ржЪрж╛ржЗред ЁЯМ╛",
            "type": "question",
            "category": "ржзрж╛ржи",
            "tags": ["ржзрж╛ржи", "рж░рзЛржЧ-ржмрж╛рж▓рж╛ржЗ", "ржкрж░рж╛ржорж░рзНрж╢"]
        },
        {
            "title": "ржЖрж▓рзБрж░ ржжрж╛ржо ржПржЦржи ржХрзЗржоржи ржмрж╛ржЬрж╛рж░рзЗ?",
            "content": "ржП ржмржЫрж░ ржЖрж▓рзБрж░ ржлрж▓ржи ржнрж╛рж▓рзЛ рж╣ржпрж╝рзЗржЫрзЗред ржХрж┐ржирзНрждрзБ ржжрж╛ржо ржирж┐ржпрж╝рзЗ ржЪрж┐ржирзНрждрж╛ржпрж╝ ржЖржЫрж┐ред ржХрзЛржи ржПрж▓рж╛ржХрж╛ржпрж╝ ржжрж╛ржо ржнрж╛рж▓рзЛ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржЪрзНржЫрзЗ? ржХржЦржи ржмрж┐ржХрзНрж░рж┐ ржХрж░рж▓рзЗ рж▓рж╛ржнржЬржиржХ рж╣ржмрзЗ? ЁЯеФЁЯТ░",
            "type": "question",
            "category": "рж╕ржмржЬрж┐",
            "tags": ["ржЖрж▓рзБ", "ржмрж╛ржЬрж╛рж░-ржжрж░", "ржмрж┐ржХрзНрж░ржпрж╝"]
        },
        {
            "title": "ржЬрзИржм рж╕рж╛рж░ рждрзИрж░рж┐рж░ рж╕рж╣ржЬ ржкржжрзНржзрждрж┐ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗ",
            "content": "рж░рж╛рж╕рж╛ржпрж╝ржирж┐ржХ рж╕рж╛рж░рзЗрж░ ржжрж╛ржо ржмрзЗржбрж╝рзЗ ржпрж╛ржУржпрж╝рж╛ржпрж╝ ржЬрзИржм рж╕рж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржЗред ржШрж░рзЗ ржмрж╕рзЗ ржХрзАржнрж╛ржмрзЗ ржнрж╛рж▓рзЛ ржЬрзИржм рж╕рж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржпрж╝? ржХрзЛржи ржЙржкрж╛ржжрж╛ржи рж▓рж╛ржЧржмрзЗ? ЁЯМ▒тЩ╗я╕П",
            "type": "question", 
            "category": "ржЬрзИржм",
            "tags": ["ржЬрзИржм-рж╕рж╛рж░", "ржкрж░рж┐ржмрзЗрж╢", "ржЦрж░ржЪ-рж╕рж╛рж╢рзНрж░ржпрж╝"]
        },
        
        # Tips & Advice Posts  
        {
            "title": "ржЪрж╛ ржмрж╛ржЧрж╛ржирзЗ ржХрзАржЯржирж╛рж╢ржХ ржЫрж╛ржбрж╝рж╛ ржкрзЛржХрж╛ ржжржоржи",
            "content": "рзирзж ржмржЫрж░рзЗрж░ ржЕржнрж┐ржЬрзНржЮрждрж╛ржпрж╝ ржжрзЗржЦрзЗржЫрж┐ ржирж┐ржорзЗрж░ рждрзЗрж▓ ржУ рж╕рж╛ржмрж╛ржирзЗрж░ ржорж┐рж╢рзНрж░ржг ржЪрж╛ ржЧрж╛ржЫрзЗрж░ ржЬржирзНржп ржЦрзБржмржЗ ржХрж╛рж░рзНржпржХрж░ред рзз рж▓рж┐ржЯрж╛рж░ ржкрж╛ржирж┐рждрзЗ рзи ржЪрж╛ржоржЪ ржирж┐ржорзЗрж░ рждрзЗрж▓ ржУ рзз ржЪрж╛ржоржЪ рждрж░рж▓ рж╕рж╛ржмрж╛ржи ржорж┐рж╢рж┐ржпрж╝рзЗ рж╕рзНржкрзНрж░рзЗ ржХрж░рзБржиред рж╕ржкрзНрждрж╛рж╣рзЗ рзи ржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржкрзЛржХрж╛рж░ ржЙржкржжрзНрж░ржм ржХржорзЗ ржпрж╛ржпрж╝ред ЁЯНГЁЯЫбя╕П",
            "type": "tip",
            "category": "ржЬрзИржм", 
            "tags": ["ржЪрж╛", "ржЬрзИржм-ржжржоржи", "ржкрж░рж┐ржмрзЗрж╢-ржмрж╛ржирзНржзржм"]
        },
        {
            "title": "ржнрзБржЯрзНржЯрж╛ ржЪрж╛рж╖рзЗ рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛",
            "content": "ржнрзБржЯрзНржЯрж╛ ржЪрж╛рж╖рзЗ ржкрж╛ржирж┐рж░ рж╕ржарж┐ржХ ржмрзНржпржмрж╣рж╛рж░ ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред ржмрзАржЬ ржмржкржирзЗрж░ рззрзл-рзирзж ржжрж┐ржи ржкрж░ ржкрзНрж░ржержо рж╕рзЗржЪ ржжрж┐ржиред рждрж╛рж░ржкрж░ рззрзл ржжрж┐ржи ржЕржирзНрждрж░ рж╕рзЗржЪ ржжрж┐рж▓рзЗ ржлрж▓ржи ржнрж╛рж▓рзЛ рж╣ржпрж╝ред ржорж╛ржЯрж┐рждрзЗ ржЖрж░рзНржжрзНрж░рждрж╛ рзнрзж-рзорзж% рж░рж╛ржЦрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред ЁЯМ╜ЁЯТз",
            "type": "tip",
            "category": "рж╕ржмржЬрж┐",
            "tags": ["ржнрзБржЯрзНржЯрж╛", "рж╕рзЗржЪ", "ржлрж▓ржи-ржмрзГржжрзНржзрж┐"]
        },
        {
            "title": "рж╕рж░рж┐рж╖рж╛рж░ ржмрзАржЬ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЙржкрж╛ржпрж╝",
            "content": "рж╕рж░рж┐рж╖рж╛рж░ ржмрзАржЬ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ рж╣рж▓рзЗ ржкрзНрж░ржержорзЗ ржнрж╛рж▓рзЛ ржХрж░рзЗ рж░рзЛржжрзЗ рж╢рзБржХрж┐ржпрж╝рзЗ ржирж┐ржиред ржЖрж░рзНржжрзНрж░рждрж╛ рзо% ржПрж░ ржирж┐ржЪрзЗ ржЖржирзБржиред рждрж╛рж░ржкрж░ ржмрж╛ржпрж╝рзБрж░рзЛржзрзА ржкрж╛рждрзНрж░рзЗ ржирж┐ржоржкрж╛рждрж╛ ржУ рж╣рж▓рзБржжрзЗрж░ ржЧрзБржБржбрж╝рж╛ ржжрж┐ржпрж╝рзЗ рж░рж╛ржЦрзБржиред ржПрждрзЗ ржкрзЛржХрж╛рж░ ржЖржХрзНрж░ржоржг рж╣ржмрзЗ ржирж╛ред ЁЯМ╗ЁЯУж",
            "type": "tip",
            "category": "рж╕ржмржЬрж┐", 
            "tags": ["рж╕рж░рж┐рж╖рж╛", "ржмрзАржЬ-рж╕ржВрж░ржХрзНрж╖ржг", "ржкрзЛржХрж╛-ржжржоржи"]
        },
        
        # Market & Price Posts
        {
            "title": "ржирзЛржпрж╝рж╛ржЦрж╛рж▓рзАрждрзЗ рждрзБрж▓рж╛рж░ ржжрж╛ржо ржмрзГржжрзНржзрж┐ ржкрзЗржпрж╝рзЗржЫрзЗ!",
            "content": "ржЖржЬржХрзЗ рж╕рзНржерж╛ржирзАржпрж╝ ржмрж╛ржЬрж╛рж░рзЗ рждрзБрж▓рж╛рж░ ржжрж╛ржо ржнрж╛рж▓рзЛ ржкрзЗржпрж╝рзЗржЫрж┐ред ржкрзНрж░рждрж┐ ржоржг рзйрзирзжрзж ржЯрж╛ржХрж╛! ржЧржд рж╕ржкрзНрждрж╛рж╣рзЗрж░ ржЪрзЗржпрж╝рзЗ рзирзжрзж ржЯрж╛ржХрж╛ ржмрзЗрж╢рж┐ред ржЖржЧрж╛ржорзА рж╕ржкрзНрждрж╛рж╣рзЗржУ ржжрж╛ржо ржнрж╛рж▓рзЛ ржерж╛ржХрж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржЖржЫрзЗред ржХрзГрж╖ржХ ржнрж╛ржЗрж░рж╛ рж╕рзБржпрзЛржЧ ржирж┐ржиред ЁЯП╖я╕ПЁЯУИ",
            "type": "market",
            "category": "рж╕ржмржЬрж┐",
            "tags": ["рждрзБрж▓рж╛", "ржжрж╛ржо-ржмрзГржжрзНржзрж┐", "ржирзЛржпрж╝рж╛ржЦрж╛рж▓рзА"]
        },
        {
            "title": "ржкрж╛ржмржирж╛ржпрж╝ ржзрж╛ржирзЗрж░ рж╕рж░ржХрж╛рж░рж┐ ржХрзНрж░ржпрж╝ ржХрзЗржирзНржжрзНрж░ ржЦрзЛрж▓рж╛ рж╣ржпрж╝рзЗржЫрзЗ",
            "content": "ржкрж╛ржмржирж╛ рж╕ржжрж░рзЗ рж╕рж░ржХрж╛рж░рж┐ ржзрж╛ржи ржХрзНрж░ржпрж╝ ржХрзЗржирзНржжрзНрж░ ржЦрзЛрж▓рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржкрзНрж░рждрж┐ ржоржг рззрзжрзкрзж ржЯрж╛ржХрж╛ ржжрж░рзЗ ржХрж┐ржиржЫрзЗред ржХрзГрж╖ржХрж░рж╛ рж╕рж░рж╛рж╕рж░рж┐ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржХрж╛ржЧржЬржкрждрзНрж░ рж╕рж╛ржерзЗ ржирж┐ржпрж╝рзЗ ржпрж╛ржмрзЗржиред ЁЯПЫя╕ПЁЯМ╛",
            "type": "market",
            "category": "ржзрж╛ржи",
            "tags": ["ржзрж╛ржи", "рж╕рж░ржХрж╛рж░рж┐-ржХрзНрж░ржпрж╝", "ржкрж╛ржмржирж╛"]
        },
        {
            "title": "ржкрзЗржБржпрж╝рж╛ржЬрзЗрж░ рж░ржкрзНрждрж╛ржирж┐ рж╕рзБржпрзЛржЧ",
            "content": "ржП ржмржЫрж░ ржкрзЗржБржпрж╝рж╛ржЬрзЗрж░ ржнрж╛рж▓рзЛ ржлрж▓ржи рж╣ржпрж╝рзЗржЫрзЗред рж╢рзБржирзЗржЫрж┐ ржнрж╛рж░рждрзЗ рж░ржкрзНрждрж╛ржирж┐рж░ рж╕рзБржпрзЛржЧ ржЖржЫрзЗред ржХрзЗржЙ рж░ржкрзНрждрж╛ржирж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирзЗржи? ржХрзЛржи ржХрзЛржорзНржкрж╛ржирж┐рж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рж▓рзЗ ржнрж╛рж▓рзЛ рж╣ржмрзЗ? ЁЯзЕЁЯЪв",
            "type": "market",
            "category": "рж╕ржмржЬрж┐",
            "tags": ["ржкрзЗржБржпрж╝рж╛ржЬ", "рж░ржкрзНрждрж╛ржирж┐", "ржмрзНржпржмрж╕рж╛"]
        },
        
        # Alert & Warning Posts
        {
            "title": "ЁЯЪи ржЯржорзЗржЯрзЛрждрзЗ ржирждрзБржи рж░рзЛржЧрзЗрж░ ржкрзНрж░рж╛ржжрзБрж░рзНржнрж╛ржм!",
            "content": "ржЯрж╛ржЩрзНржЧрж╛ржЗрж▓ ржПрж▓рж╛ржХрж╛ржпрж╝ ржЯржорзЗржЯрзЛ ржЧрж╛ржЫрзЗ ржПржХржЯрж┐ ржирждрзБржи ржзрж░ржирзЗрж░ рж░рзЛржЧ ржжрзЗржЦрж╛ ржжрж┐ржпрж╝рзЗржЫрзЗред ржкрж╛рждрж╛ ржХрзБржБржХржбрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗ ржУ ржлрж▓ ржкржЪрзЗ ржпрж╛ржЪрзНржЫрзЗред ржХрзГрж╖рж┐ ржЕржлрж┐рж╕рж╛рж░ ржПрж╕рзЗ ржжрзЗржЦрзЗржЫрзЗржиред рж╕ржмрж╛ржЗ рж╕рждрж░рзНржХ ржерж╛ржХрзБржи ржУ ржЖржХрзНрж░рж╛ржирзНржд ржЧрж╛ржЫ рждрзБрж▓рзЗ ржлрзЗрж▓рзБржиред тЪая╕ПЁЯНЕ",
            "type": "alert",
            "category": "рж╕ржмржЬрж┐",
            "tags": ["ржЯржорзЗржЯрзЛ", "рж░рзЛржЧ-рж╕рждрж░рзНржХрждрж╛", "ржЯрж╛ржЩрзНржЧрж╛ржЗрж▓"]
        },
        {
            "title": "тЪая╕П ржЖржЧрж╛ржорзА рзй ржжрж┐ржи ржнрж╛рж░рзА ржмрзГрж╖рзНржЯрж┐рж░ рж╕ржорзНржнрж╛ржмржирж╛",
            "content": "ржЖржмрж╣рж╛ржУржпрж╝рж╛ ржЕржзрж┐ржжржкрзНрждрж░рзЗрж░ ржкрзВрж░рзНржмрж╛ржнрж╛рж╕ ржЕржирзБржпрж╛ржпрж╝рзА ржЖржЧрж╛ржорзА рзй ржжрж┐ржи ржХрзБржорж┐рж▓рзНрж▓рж╛ ржЕржЮрзНржЪрж▓рзЗ ржнрж╛рж░рзА ржмрзГрж╖рзНржЯрж┐ рж╣рждрзЗ ржкрж╛рж░рзЗред ржзрж╛ржи ржХрж╛ржЯрж╛рж░ ржХрж╛ржЬ рждрж╛ржбрж╝рж╛рждрж╛ржбрж╝рж┐ рж╢рзЗрж╖ ржХрж░рзБржиред ржЬржорж┐рждрзЗ ржЬрж▓ ржЬржорждрзЗ ржкрж╛рж░рзЗред ЁЯМзя╕ПтЫИя╕П",
            "type": "alert",
            "category": "ржзрж╛ржи", 
            "tags": ["ржЖржмрж╣рж╛ржУржпрж╝рж╛", "ржмрзГрж╖рзНржЯрж┐-рж╕рждрж░рзНржХрждрж╛", "ржзрж╛ржи-ржХрж╛ржЯрж╛"]
        },
        
        # Success Stories
        {
            "title": "ржЬрзИржм ржкржжрзНржзрждрж┐рждрзЗ ржкрж╛ржЯ ржЪрж╛рж╖рзЗ рж╕ржлрж▓рждрж╛! ЁЯОЙ",
            "content": "ржП ржмржЫрж░ рж╕ржорзНржкрзВрж░рзНржг ржЬрзИржм ржкржжрзНржзрждрж┐рждрзЗ ржкрж╛ржЯ ржЪрж╛рж╖ ржХрж░рзЗржЫрж┐ред ржХрзЛржи рж░рж╛рж╕рж╛ржпрж╝ржирж┐ржХ рж╕рж╛рж░ ржмрж╛ ржХрзАржЯржирж╛рж╢ржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ржирж┐ред ржЕржержЪ ржлрж▓ржи ржЧрждржмрж╛рж░рзЗрж░ ржЪрзЗржпрж╝рзЗ рзирзж% ржмрзЗрж╢рж┐! ржорж╛ржЯрж┐рж░ ржЧрзБржгрж╛ржЧрзБржгржУ ржЙржирзНржиржд рж╣ржпрж╝рзЗржЫрзЗред ржкрзНрж░ржорж╛ржг рж╣рж▓рзЛ ржЬрзИржм ржЪрж╛рж╖ рж▓рж╛ржнржЬржиржХред ЁЯМ▒тЬи",
            "type": "success",
            "category": "ржЬрзИржм",
            "tags": ["ржкрж╛ржЯ", "ржЬрзИржм-ржЪрж╛рж╖", "рж╕ржлрж▓рждрж╛"]
        },
        {
            "title": "ржирждрзБржи ржЬрж╛рждрзЗрж░ ржнрзБржЯрзНржЯрж╛ржпрж╝ ржжрзНржмрж┐ржЧрзБржг ржЖржпрж╝!",
            "content": "ржПржмрж╛рж░ BARI ржнрзБржЯрзНржЯрж╛-рзп ржЬрж╛ржд ржЪрж╛рж╖ ржХрж░рзЗржЫрж┐ред рж╕рж╛ржзрж╛рж░ржг ржЬрж╛рждрзЗрж░ ржЪрзЗржпрж╝рзЗ ржЦрж░ржЪ ржПржХржЯрзБ ржмрзЗрж╢рж┐ рж╣рж▓рзЗржУ ржлрж▓ржи ржжрзНржмрж┐ржЧрзБржг ржкрзЗржпрж╝рзЗржЫрж┐ред ржкрзНрж░рждрж┐ ржПржХрж░рзЗ рзирзл ржоржг ржнрзБржЯрзНржЯрж╛ ржкрзЗржпрж╝рзЗржЫрж┐ред ржЖржЧрж╛ржорзА ржорзМрж╕рзБржорзЗржУ ржПржЗ ржЬрж╛рждржЗ ржЪрж╛рж╖ ржХрж░ржмрзЛред ЁЯМ╜ЁЯТ░",
            "type": "success",
            "category": "рж╕ржмржЬрж┐",
            "tags": ["ржнрзБржЯрзНржЯрж╛", "ржирждрзБржи-ржЬрж╛ржд", "рж▓рж╛ржнржЬржиржХ"]
        },
        
        # Technology & Innovation Posts
        {
            "title": "ржбрзНрж░рзЛржи ржжрж┐ржпрж╝рзЗ ржлрж╕рж▓рзЗрж░ рж╕рзНржмрж╛рж╕рзНржерзНржп ржкрж░рзАржХрзНрж╖рж╛",
            "content": "ржЧржд ржорж╛рж╕рзЗ ржХрзГрж╖рж┐ рж╕ржорзНржкрзНрж░рж╕рж╛рж░ржг ржЕржзрж┐ржжржкрзНрждрж░рзЗрж░ ржбрзНрж░рзЛржи рж╕рзЗржмрж╛ ржирж┐ржпрж╝рзЗржЫрж┐ред ржбрзНрж░рзЛржи ржжрж┐ржпрж╝рзЗ ржЬржорж┐ рж╕рзНржХрзНржпрж╛ржи ржХрж░рзЗ ржжрзЗржЦрж┐ржпрж╝рзЗ ржжрж┐рж▓рзЛ ржХрзЛржерж╛ржпрж╝ рж╕рж╛рж░ ржмрзЗрж╢рж┐ рж▓рж╛ржЧржмрзЗ, ржХрзЛржерж╛ржпрж╝ ржХржоред ржЦрзБржмржЗ ржЙржкржХрж╛рж░рзА рж╕рзЗржмрж╛ред рж╕ржмрж╛ржЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред ЁЯЪБЁЯМ╛",
            "type": "technology",
            "category": "ржкрзНрж░ржпрзБржХрзНрждрж┐",
            "tags": ["ржбрзНрж░рзЛржи", "ржЖржзрзБржирж┐ржХ-ржЪрж╛рж╖", "ржкрзНрж░ржпрзБржХрзНрждрж┐"]
        },
        {
            "title": "ржорзЛржмрж╛ржЗрж▓ ржЕрзНржпрж╛ржкрзЗ ржорж╛ржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛рж░ ржлрж▓рж╛ржлрж▓",
            "content": "ржирждрзБржи ржПржХржЯрж┐ ржЕрзНржпрж╛ржк ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржорж╛ржЯрж┐рж░ ржЫржмрж┐ рждрзБрж▓рзЗ ржкрж╛ржарж┐ржпрж╝рзЗржЫрж┐ред рзирзк ржШржирзНржЯрж╛рж░ ржоржзрзНржпрзЗ ржорж╛ржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛рж░ рж░рж┐ржкрзЛрж░рзНржЯ ржПрж╕рзЗ ржЧрзЗржЫрзЗ! ржХрзА ржкрж░рж┐ржорж╛ржг рж╕рж╛рж░ ржжрж┐рждрзЗ рж╣ржмрзЗ рж╕ржм рж▓рзЗржЦрж╛ ржЖржЫрзЗред ржЦрж░ржЪржУ ржХржоред ЁЯУ▒ЁЯзк",
            "type": "technology",
            "category": "ржкрзНрж░ржпрзБржХрзНрждрж┐",
            "tags": ["ржорзЛржмрж╛ржЗрж▓-ржЕрзНржпрж╛ржк", "ржорж╛ржЯрж┐-ржкрж░рзАржХрзНрж╖рж╛", "ржбрж┐ржЬрж┐ржЯрж╛рж▓"]
        },
        
        # Additional diverse posts
        {
            "title": "ржорзМрж╕рзБржорж┐ рж╕ржмржЬрж┐ ржЪрж╛рж╖рзЗ рж▓рж╛ржнржмрж╛ржи рж╣ржи",
            "content": "рж╢рзАрждржХрж╛рж▓рзАржи рж╕ржмржЬрж┐ ржЪрж╛рж╖рзЗрж░ рж╕ржоржпрж╝ ржПрж╕рзЗ ржЧрзЗржЫрзЗред ржЧрж╛ржЬрж░, ржорзБрж▓рж╛, рж╢рж╛ржХрж╕ржмржЬрж┐ ржПржЦржиржЗ рж▓рж╛ржЧрж╛ржиред ржмрж╛ржЬрж╛рж░рзЗ ржжрж╛ржо ржнрж╛рж▓рзЛ ржерж╛ржХржмрзЗред ржХржо ржЦрж░ржЪрзЗ ржмрзЗрж╢рж┐ рж▓рж╛ржн ржкрзЗрждрзЗ ржЪрж╛ржЗрж▓рзЗ ржПржЦржиржЗ рж╢рзБрж░рзБ ржХрж░рзБржиред ЁЯеХЁЯем",
            "type": "tip",
            "category": "рж╕ржмржЬрж┐",
            "tags": ["рж╢рзАрждржХрж╛рж▓рзАржи-рж╕ржмржЬрж┐", "ржорзМрж╕рзБржорж┐-ржЪрж╛рж╖", "рж▓рж╛ржнржЬржиржХ"]
        },
        {
            "title": "ржорж╛ржЫ ржЪрж╛рж╖рзЗрж░ рж╕рж╛ржерзЗ ржзрж╛ржи ржЪрж╛рж╖",
            "content": "ржзрж╛ржирзЗрж░ ржЬржорж┐рждрзЗ ржорж╛ржЫ ржЪрж╛рж╖ ржХрж░рзЗ ржЕрждрж┐рж░рж┐ржХрзНржд ржЖржпрж╝ ржХрж░ржЫрж┐ред ржкрж╛ржирж┐рждрзЗ ржХрж╛рж░рзНржк ржЬрж╛рждрзАржпрж╝ ржорж╛ржЫ ржЫрзЗржбрж╝рзЗ ржжрж┐ржпрж╝рзЗржЫрж┐ред ржзрж╛ржирзЗрж░ ржХрзНрж╖рждрж┐ рж╣ржпрж╝ ржирж╛, ржмрж░ржВ ржорж╛ржЫрзЗрж░ ржмрж░рзНржЬрзНржп рж╕рж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред ржжрзБржЯрзЛ ржлрж╕рж▓ ржПржХрж╕рж╛ржерзЗ! ЁЯРЯЁЯМ╛",
            "type": "success",
            "category": "ржзрж╛ржи",
            "tags": ["ржорж┐рж╢рзНрж░-ржЪрж╛рж╖", "ржорж╛ржЫ-ржзрж╛ржи", "ржЕрждрж┐рж░рж┐ржХрзНржд-ржЖржпрж╝"]
        }
    ]
    
    created_posts = []
    base_time = datetime.now(timezone.utc)
    
    for i, post_data in enumerate(posts_data):
        # Assign random user and community
        user = random.choice(users)
        community = random.choice(communities)
        
        # Create post with timestamp in last 30 days
        post_time = base_time - timedelta(
            days=random.randint(0, 30),
            hours=random.randint(0, 23), 
            minutes=random.randint(0, 59)
        )
        
        post = CommunityPost(
            community_id=community.id,
            user_id=user.id,
            content=post_data['content'],
            post_type=post_data['type'],
            title=post_data.get('title'),
            tags=post_data.get('tags'),
            location=post_data.get('location'),
            is_active=True,
            likes_count=random.randint(5, 150),
            comments_count=random.randint(0, 35),
            shares_count=random.randint(10, 500),
            created_at=post_time,
            updated_at=post_time
        )
        
        created_posts.append(post)
        db.session.add(post)
        
        # Add some random likes
        like_count = random.randint(3, 15)
        potential_likers = random.sample(users, min(like_count, len(users)))
        
        for liker in potential_likers:
            if liker.id != user.id:  # Don't like own post
                like = PostLike(
                    post_id=post.id,
                    user_id=liker.id
                )
                db.session.add(like)
        
        # Add some random comments
        comment_count = random.randint(1, 8)
        potential_commenters = random.sample(users, min(comment_count, len(users)))
        
        sample_comments = [
            "ржЦрзБржмржЗ ржЙржкржХрж╛рж░рзА ржкрзЛрж╕рзНржЯ! ржзржирзНржпржмрж╛ржж ржнрж╛ржЗред ЁЯСН",
            "ржЖржорж┐ржУ ржПржЗ ржкржжрзНржзрждрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐, ржХрж╛ржЬ рж╣ржпрж╝рзЗржЫрзЗред",
            "ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирждрзЗ ржЪрж╛ржЗред ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░ржмред",
            "ржЪржорзОржХрж╛рж░ рждржерзНржп! ржЖржорж╛рж░ ржПрж▓рж╛ржХрж╛ржпрж╝ржУ ржкрзНрж░ржпрж╝рзЛржЧ ржХрж░ржмред",
            "ржЕржирзЗржХ рж╕рж╣рж╛ржпрж╝ржХред ржЖрж░рзЛ ржПрж░ржХржо ржкрзЛрж╕рзНржЯ ржжрж┐ржиред",
            "ржкрзНрж░рж╢ржВрж╕ржирзАржпрж╝ ржЙржжрзНржпрзЛржЧред ржПржЧрж┐ржпрж╝рзЗ ржпрж╛ржи ржнрж╛ржЗред ЁЯТк",
            "ржЖржорж╛рж░ ржЦрж╛ржорж╛рж░рзЗржУ ржПржЗ рж╕ржорж╕рзНржпрж╛ ржЖржЫрзЗред рж╕ржорж╛ржзрж╛ржи ржкрзЗрж▓рж╛ржоред",
            "ржжрж╛рж░рзБржг ржЕржнрж┐ржЬрзНржЮрждрж╛ рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзЗржЫрзЗржиред ржХрзГрждржЬрзНржЮрждрж╛ред ЁЯЩП"
        ]
        
        for commenter in potential_commenters:
            if commenter.id != user.id:  # Don't comment on own post
                comment = PostComment(
                    post_id=post.id,
                    author_id=commenter.id,
                    content=random.choice(sample_comments),
                    is_active=True,
                    created_at=post_time + timedelta(hours=random.randint(1, 48))
                )
                db.session.add(comment)
    
    try:
        db.session.commit()
        print(f"Created {len(created_posts)} Bangla community posts with interactions")
        return created_posts
    except Exception as e:
        db.session.rollback()
        print(f"Error creating posts: {e}")
        return []

def main():
    """Main seeding function"""
    app = create_app()
    
    with app.app_context():
        print("Starting community seeding process...")
        
        # Create sample data
        users = create_sample_users()
        communities = create_sample_communities()
        posts = create_bangla_posts()
        
        print(f"\nSeeding completed successfully!")
        print(f"- Users: {len(User.query.all())}")
        print(f"- Communities: {len(Community.query.all())}")
        print(f"- Posts: {len(CommunityPost.query.all())}")
        print(f"- Likes: {len(PostLike.query.all())}")
        print(f"- Comments: {len(PostComment.query.all())}")

if __name__ == "__main__":
    main()